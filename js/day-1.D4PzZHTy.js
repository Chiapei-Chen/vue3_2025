import{c as W,b as X,d as Z,e as G,f as Q,g as Y,h as ee,i as te,j as ae}from"./element-plus.CDiHoDQa.js";import{r as _,p as w,an as K,t as T,ao as L,P as S,O as I,H as D,a8 as N,ap as P,o as v,c as $,a as e,_ as r,a5 as E,aq as x,x as ne,R as o,V as a,Z as b,W as M,X as V,ar as oe,F as le,ad as se,M as de,J as ue}from"./vendor.D13QUWO6.js";import{_ as U}from"./_plugin-vue_export-helper.DlAUqK2U.js";const ie={class:"component"},pe={class:"message-area"},ce={__name:"componentA",props:{parentMessage:{type:String,default:""}},emits:["child-event"],setup(h,{emit:d}){const l=_(0),s=_(""),t=w("addLog"),f=d;K(()=>{t("組件A - beforeMount - 組件準備掛載","lifecycle")}),T(()=>{t("組件A - mounted - 組件已掛載完成","mounted")}),L(()=>{t("組件A - beforeUpdate - 組件準備更新","update")}),S(()=>{t("組件A - updated - 組件已更新完成","updated")}),I(()=>{t("組件A - beforeUnmount - 組件準備卸載","unmount")}),D(()=>{t("組件A - unmounted - 組件已卸載完成","unmounted")}),N(()=>{t("組件A - activated - Keep-alive 組件已啟用","activated")}),P(()=>{t("組件A - deactivated - Keep-alive 組件已停用","deactivated")});const y=()=>{l.value++,f("child-event",`組件A計數更新：${l.value}`)},i=()=>{s.value.trim()&&(f("child-event",s.value),s.value="")};return(c,u)=>(v(),$("div",ie,[u[1]||(u[1]=e("h2",null,"組件 A",-1)),e("p",null,"計數器: "+r(l.value),1),e("button",{onClick:y},"增加"),e("div",pe,[e("h4",null,"來自父組件的消息: "+r(h.parentMessage),1),E(e("input",{"onUpdate:modelValue":u[0]||(u[0]=k=>s.value=k),placeholder:"輸入要發送給父組件的消息"},null,512),[[x,s.value]]),e("div",{class:"button-group"},[e("button",{onClick:i},"發送消息到父組件")])])]))}},m=U(ce,[["__scopeId","data-v-d771361a"]]),re={class:"component"},me={class:"message-area"},ve={__name:"componentB",props:{parentMessage:{type:String,default:""}},emits:["child-event"],setup(h,{emit:d}){const l=_(""),s=_(""),t=w("addLog"),f=d;K(()=>{t("組件B - beforeMount - 組件準備掛載","lifecycle")}),T(()=>{t("組件B - mounted - 組件已掛載完成","mounted")}),L(()=>{t("組件B - beforeUpdate - 組件準備更新","update")}),S(()=>{t("組件B - updated - 組件已更新完成","updated")}),I(()=>{t("組件B - beforeUnmount - 組件準備卸載","unmount")}),D(()=>{t("組件B - unmounted - 組件已卸載完成","unmounted")}),N(()=>{t("組件B - activated - Keep-alive 組件已啟用","activated")}),P(()=>{t("組件B - deactivated - Keep-alive 組件已停用","deactivated")});const y=()=>{s.value.trim()&&(f("child-event",s.value),s.value="")};return(i,c)=>(v(),$("div",re,[c[2]||(c[2]=e("h2",null,"組件 B",-1)),e("p",null,"文本輸入: "+r(l.value),1),E(e("input",{"onUpdate:modelValue":c[0]||(c[0]=u=>l.value=u),placeholder:"輸入一些文字"},null,512),[[x,l.value]]),e("div",me,[e("h4",null,"來自父組件的消息: "+r(h.parentMessage),1),E(e("input",{"onUpdate:modelValue":c[1]||(c[1]=u=>s.value=u),placeholder:"輸入要發送給父組件的消息"},null,512),[[x,s.value]]),e("div",{class:"button-group"},[e("button",{onClick:y},"發送消息到父組件")])])]))}},_e=U(ve,[["__scopeId","data-v-7ee652e5"]]),fe={class:"app-container"},ge={class:"card-header"},ye={class:"card-header"},Ae={class:"time"},Be={__name:"day-1",setup(h){const d=ne(m),l=_(!0),s=_([]),t=_(""),f=()=>{const p=d.value===m?"A":"B";i(`組件${p} - 準備切換`,"lifecycle"),d.value=d.value===m?_e:m;const n=d.value===m?"A":"B";i(`切換到組件${n}`,"info")},y=()=>{if(l.value,l.value=!l.value,i(`${l.value?"開啟":"關閉"} Keep-Alive - ${l.value?"組件狀態將被保留":"組件狀態將被重置"}`,"important"),!l.value){const p=d.value===m?"A":"B";i(`組件${p} - 將被重新創建`,"lifecycle")}},i=(p,n="info")=>{s.value.unshift({message:`${new Date().toLocaleTimeString()} - ${p}`,type:n})},c=()=>{s.value=[]},u=p=>{i(`收到子組件消息: ${p}`,"info")},k=()=>{t.value.trim()&&i(`父組件發送消息: ${t.value}`,"info")},j=p=>({lifecycle:"primary",mounted:"success",update:"warning",updated:"warning",unmount:"danger",unmounted:"danger",activated:"success",deactivated:"warning",important:"danger",info:"info"})[p]||"info";return ue("addLog",i),(p,n)=>{const C=X,F=Z,R=G,A=W,q=Q,z=Y,H=ee,B=te,J=ae;return v(),$("div",fe,[o(A,null,{header:a(()=>n[1]||(n[1]=[e("h2",null,"Vue 3.5 生命週期完整示例",-1)])),default:a(()=>[o(F,{wrap:""},{default:a(()=>[o(C,{type:"primary",onClick:f},{default:a(()=>[b(" 切換組件顯示: "+r(d.value===m?"A":"B"),1)]),_:1}),o(C,{type:l.value?"success":"warning",onClick:y},{default:a(()=>[b(" Keep-Alive: "+r(l.value?"開啟":"關閉"),1)]),_:1},8,["type"])]),_:1}),o(A,{class:"mt-4"},{header:a(()=>n[2]||(n[2]=[e("div",{class:"card-header"},[e("span",null,"父組件控制區")],-1)])),default:a(()=>[o(R,{modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=g=>t.value=g),placeholder:"輸入要發送給子組件的消息"},{append:a(()=>[o(C,{onClick:k},{default:a(()=>n[3]||(n[3]=[b("發送消息")])),_:1})]),_:1},8,["modelValue"])]),_:1}),o(A,{class:"mt-4"},{header:a(()=>[e("div",ge,[e("span",null,"當前狀態："+r(l.value?"組件狀態會保留":"組件狀態會重置"),1)])]),default:a(()=>[l.value?(v(),M(oe,{key:0},[(v(),M(V(d.value),{"parent-message":t.value,onChildEvent:u},null,40,["parent-message"]))],1024)):(v(),M(V(d.value),{"parent-message":t.value,onChildEvent:u,key:d.value===m?"A":"B"},null,40,["parent-message"]))]),_:1}),o(A,{class:"mt-4"},{header:a(()=>[e("div",ye,[n[5]||(n[5]=e("span",null,"生命週期事件日誌",-1)),o(C,{text:"",onClick:c},{default:a(()=>n[4]||(n[4]=[b("清除日誌")])),_:1})])]),default:a(()=>[o(H,{height:"300px"},{default:a(()=>[o(z,null,{default:a(()=>[(v(!0),$(le,null,se(s.value,(g,O)=>(v(),M(q,{key:O,type:j(g.type)},{default:a(()=>[e("span",Ae,r(g.message),1),e("span",{class:de(["message",g.type])},r(g.message.split(" - ")[1]),3)]),_:2},1032,["type"]))),128))]),_:1})]),_:1})]),_:1}),o(A,{class:"mt-4"},{header:a(()=>n[6]||(n[6]=[e("div",{class:"card-header"},[e("span",null,"測試步驟")],-1)])),default:a(()=>[o(J,{direction:"vertical",active:1},{default:a(()=>[o(B,{title:"步驟 1",description:"在組件A中增加幾次計數"}),o(B,{title:"步驟 2",description:"切換到組件B並輸入一些文字"}),o(B,{title:"步驟 3",description:"再切換回組件A"}),o(B,{title:"步驟 4",description:"關閉 Keep-Alive 重複以上步驟"}),o(B,{title:"步驟 5",description:"觀察兩種情況下的狀態保留差異"})]),_:1})]),_:1})]),_:1})])}}},Me=U(Be,[["__scopeId","data-v-b2fee5ea"]]);export{Me as default};
